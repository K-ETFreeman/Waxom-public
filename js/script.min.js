document.querySelectorAll(".self-trigger").forEach(e=>e.onclick=()=>e.classList.toggle("active")),document.querySelectorAll(".parent-trigger").forEach(e=>e.onclick=()=>e.parentElement.classList.toggle("active")),(new Parallax).init(1,3);let hSwiper=document.querySelector(".hero .swiper-container");var hero=new Swiper(hSwiper,{loop:!0,effect:"fade",speed:0,fadeEffect:{crossFade:!0},pagination:{el:".hero .swiper-pagination",type:"bullets",clickable:!0},navigation:{nextEl:".hero .swiper-button-next",prevEl:".hero .swiper-button-prev"},on:{slideChange:function(){prev=hSwiper.querySelectorAll('.hero__button[tabindex="0"]'),prev&&prev.forEach(e=>e.setAttribute("tabindex",-1)),hSwiper.querySelector(".swiper-slide-next .hero__button").setAttribute("tabindex",0)}}});let postsSwiper=document.querySelector(".posts .swiper-container");var posts=new Swiper(postsSwiper,{loop:!0,autoplay:{delay:5e3},speed:800,breakpoints:{0:{slidesPerView:1,spaceBetween:20},700:{slidesPerView:2,spaceBetween:20},1e3:{slidesPerView:3,spaceBetween:30}},navigation:{nextEl:".posts__ra",prevEl:".posts__la"}});let logosSwiper=document.querySelector(".logos .swiper-container");var logos=new Swiper(logosSwiper,{loop:!0,autoplay:{delay:2e3,disableOnInteraction:!1},speed:800,breakpoints:{0:{slidesPerView:1,spaceBetween:20},500:{slidesPerView:2,spaceBetween:20},900:{slidesPerView:3,spaceBetween:30},1100:{slidesPerView:4,spaceBetween:90}}});class Card{constructor(e,t,i,s){this.types=e,this.numbers=t,this.el=i,this.phantom=s,this.hidden=!0}disappear(e=!1){this.hidden=!0;let t=()=>{this.phantom.classList.add("hidden"),this.el.classList.add("hidden")};e?(this.el.classList.add("instant"),window.requestAnimationFrame(()=>{t(),window.requestAnimationFrame(()=>this.el.classList.remove("instant"))})):t()}appear(e=!1){this.hidden&&(this.hidden=!1,e=!0),window.requestAnimationFrame(()=>{this.phantom.classList.remove("hidden"),window.requestAnimationFrame(()=>e?this.refreshPosition("instant",()=>{this.el.classList.remove("hidden"),window.requestAnimationFrame(()=>this.el.classList.remove("instant"))}):this.refreshPosition())})}resize(){let e=this.phantom.getBoundingClientRect();this.el.style.setProperty("width",e.width+"px"),this.el.style.setProperty("height",e.height+"px")}move(e,t,i=!1,s=!1){let r=()=>{this.hidden?this.el.style.setProperty("transform",`translate(${e}px, ${t}px) scale(0)`):this.el.style.setProperty("transform",`translate(${e}px, ${t}px)`),this.resize()};i?window.requestAnimationFrame(()=>{this.el.style.setProperty("transition-duration","0ms"),window.requestAnimationFrame(()=>{r(),window.requestAnimationFrame(()=>{this.el.style.removeProperty("transition-duration"),s&&window.requestAnimationFrame(s)})})}):r(),this.x=e,this.y=t}refreshPosition(e,t){let i=this.phantom.offsetLeft,s=this.phantom.offsetTop;this.move(i,s,e,t)}refresh(e,t,i,s=!1){let r;this.types.find(t=>t==e)?r=this.numbers[this.types.findIndex(t=>t==e)]:0==e&&(r=i),null==r||r>=t?window.requestAnimationFrame(()=>this.disappear(s)):this.appear(s)}}let Cards=[],tabs=document.querySelectorAll(".projects__tabs button"),projects=document.querySelectorAll(".projects__gallery .project"),phantoms=document.querySelectorAll(".projects__gallery .project-phantom"),limitbutton=document.querySelector(".projects__button"),GalleryElem=document.querySelector(".projects__gallery"),GalleryWrapper=document.querySelector(".projects__gallery-wrapper"),Gallery={mode:0,setMode:(e,t=!1)=>{Gallery.mode=e;let i=6,s=GalleryElem.getBoundingClientRect().width,r=GalleryElem.querySelector(".project-phantom:not(.hidden)").getBoundingClientRect().width;r/s>.35&&(i=4),r/s>.6&&(i=3),typeCounts[e]<=i?limitbutton.classList.add("hidden"):limitbutton.classList.remove("hidden"),GalleryElem.classList.contains("unlimit")&&(i=1/0),Cards.forEach((s,r)=>s.refresh(e,i,r,t)),window.requestAnimationFrame(()=>window.requestAnimationFrame(()=>window.requestAnimationFrame(()=>window.requestAnimationFrame(()=>window.requestAnimationFrame(()=>window.requestAnimationFrame(()=>window.requestAnimationFrame(()=>GalleryWrapper.style.setProperty("height",GalleryElem.offsetHeight+"px"))))))))}},typeCounts=[projects.length,0,0,0,0];projects.forEach((e,t)=>{let i=e.getAttribute("data-type").split("").map(e=>parseInt(e)),s=i.map(e=>typeCounts[e]++);Cards.push(new Card(i,s,e,phantoms[t]))}),Gallery.setMode(0,"instant"),tabs.forEach(e=>e.onclick=()=>{window.requestAnimationFrame(()=>Gallery.setMode(parseInt(e.getAttribute("data-type")))),Array.from(tabs).find(e=>e.classList.contains("active")).classList.remove("active"),e.classList.add("active")}),window.addEventListener("resize",()=>Gallery.setMode(Gallery.mode,"instant")),limitbutton.toggletext=()=>{"Show More"==limitbutton.innerText?limitbutton.innerText="Show Less":limitbutton.innerText="Show More"},limitbutton.onclick=()=>{GalleryElem.classList.toggle("unlimit"),Gallery.setMode(Gallery.mode),limitbutton.toggletext()};