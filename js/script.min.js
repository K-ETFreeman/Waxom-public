document.querySelectorAll(".self-trigger").forEach(e=>e.onclick=()=>e.classList.toggle("active")),document.querySelectorAll(".self-trigger").forEach(e=>e.addEventListener("keydown",t=>{13==t.keyCode&&e.classList.toggle("active")})),document.querySelectorAll(".parent-trigger").forEach(e=>e.onclick=()=>{if(e.hasAttribute("data-sole")){if(e.parentElement.classList.contains("active"))return e.parentElement.classList.remove("active");let t=e.parentElement.parentElement.querySelector(".active");t&&t.classList.remove("active"),e.parentElement.classList.add("active")}else e.parentElement.classList.toggle("active")});let hero=document.querySelector(".hero");var heroSwiper=new Swiper(".hero .swiper-container",{effect:"fade",speed:0,loop:!0,fadeEffect:{crossFade:!0},pagination:{el:".hero__pagination",type:"bullets",clickable:!0},navigation:{nextEl:".hero__next",prevEl:".hero__prev"},on:{init:function(){hero.querySelector(".swiper-slide-active .wrapper").classList.add("show"),hero.querySelectorAll(".hero__button").forEach(e=>{e.onclick=()=>document.body.scroll({top:window.innerHeight,behavior:"smooth"}),e.addEventListener("keydown",e=>"13"==e.keyCode&&document.body.scroll({top:window.innerHeight,behavior:"smooth"}))})},slideChange:function(){setTimeout(()=>{hero.querySelectorAll(".swiper-slide-prev, .swiper-slide-next").forEach(e=>e.querySelector(".hero__button").setAttribute("tabindex","-1")),hero.querySelector(".swiper-slide-duplicate-active")&&hero.querySelector(".swiper-slide-duplicate-active .hero__button").setAttribute("tabindex","-1"),hero.querySelector(".swiper-slide-active .hero__button").setAttribute("tabindex","0")},200)}}});let timer,timershort,harrows=hero.querySelectorAll(".hero__next,.hero__prev"),hbullets=hero.querySelectorAll(".hero .swiper-pagination-bullet"),hslides=hero.querySelectorAll(".swiper-slide >*");function hide(){let e=hero.querySelector(".swiper-slide>.wrapper.show");e&&e.classList.remove("show")}function smooth(e=!1){hslides.forEach(t=>t.classList.add(e?"short":"transition")),e?(clearTimeout(timershort),timershort=setTimeout(()=>{hslides.forEach(e=>e.classList.remove("short")),hide(),hero.querySelector(".swiper-slide-active .wrapper").classList.add("show")},200)):(clearTimeout(timer),timer=setTimeout(()=>{hslides.forEach(e=>e.classList.remove("transition")),hide(),hero.querySelector(".swiper-slide-active .wrapper").classList.add("show")},600))}let next=()=>{smooth(),heroSwiper.slideNext()},autoplay=setInterval(next,6e3);hero.addEventListener("pointerdown",()=>clearInterval(autoplay)),[...harrows,...hbullets].forEach(e=>{e.onclick=()=>{smooth()},e.addEventListener("keydown",t=>{13==t.keyCode&&(clearInterval(autoplay),e.dispatchEvent(new Event("click")),smooth())})}),heroSwiper.on("touchEnd",()=>smooth("short")),document.body.addEventListener("keydown",e=>{9==e.keyCode&&(document.body.classList.add("tab"),document.body.classList.remove("notab"))}),document.body.addEventListener("pointerdown",e=>{document.body.classList.remove("tab"),document.body.classList.add("notab")}),window.addEventListener("load",()=>{class e{constructor(e,t,i,s){this.types=e,this.numbers=t,this.el=i,this.phantom=s,this.hidden=!0}disappear(e=!1){this.hidden=!0;let t=()=>{this.phantom.classList.add("hidden"),this.el.classList.add("hidden"),this.el.querySelector(".project__link").setAttribute("tabindex","-1")};e?(this.el.classList.add("instant"),window.requestAnimationFrame(()=>{t(),window.requestAnimationFrame(()=>this.el.classList.remove("instant"))})):t()}appear(e=!1){this.hidden&&(this.hidden=!1,e=!0),window.requestAnimationFrame(()=>{this.phantom.classList.remove("hidden"),window.requestAnimationFrame(()=>e?this.refreshPosition("instant",()=>{this.el.classList.remove("hidden"),this.el.querySelector(".project__link").removeAttribute("tabindex"),window.requestAnimationFrame(()=>this.el.classList.remove("instant"))}):this.refreshPosition())})}resize(){let e=this.phantom.getBoundingClientRect();this.el.style.setProperty("width",e.width+"px"),this.el.style.setProperty("height",e.height+"px")}move(e,t,i=!1,s=!1){let o=()=>{this.hidden?this.el.style.setProperty("transform",`translate(${e}px, ${t}px) scale(0)`):this.el.style.setProperty("transform",`translate(${e}px, ${t}px)`),this.resize()};i?window.requestAnimationFrame(()=>{this.el.style.setProperty("transition-duration","0ms"),window.requestAnimationFrame(()=>{o(),window.requestAnimationFrame(()=>{this.el.style.removeProperty("transition-duration"),s&&window.requestAnimationFrame(s)})})}):o(),this.x=e,this.y=t}refreshPosition(e,t){let i=this.phantom.offsetLeft,s=this.phantom.offsetTop;this.move(i,s,e,t)}refresh(e,t,i,s=!1){let o;this.types.find(t=>t==e)?o=this.numbers[this.types.findIndex(t=>t==e)]:0==e&&(o=i),null==o||o>=t?window.requestAnimationFrame(()=>this.disappear(s)):this.appear(s)}}let t=[],i=document.querySelectorAll(".projects__tabs button"),s=document.querySelectorAll(".projects__gallery .project"),o=document.querySelectorAll(".projects__gallery .project-phantom"),r=document.querySelector(".projects__button"),n=document.querySelector(".projects__gallery"),a=document.querySelector(".projects__gallery-wrapper"),l={mode:0,setMode:(e,i=!1)=>{l.mode=e;let s=6,o=n.getBoundingClientRect().width,c=n.querySelector(".project-phantom:not(.hidden)").getBoundingClientRect().width;c/o>.35&&(s=4),c/o>.6&&(s=3),d[e]<=s?r.classList.add("hidden"):r.classList.remove("hidden"),n.classList.contains("unlimit")&&(s=1/0),t.forEach((t,o)=>t.refresh(e,s,o,i)),window.requestAnimationFrame(()=>window.requestAnimationFrame(()=>window.requestAnimationFrame(()=>window.requestAnimationFrame(()=>window.requestAnimationFrame(()=>window.requestAnimationFrame(()=>window.requestAnimationFrame(()=>a.style.setProperty("height",n.offsetHeight+"px"))))))))}},d=[s.length,0,0,0,0];s.forEach((i,s)=>{let r=i.getAttribute("data-type").split("").map(e=>parseInt(e)),n=r.map(e=>d[e]++);t.push(new e(r,n,i,o[s]))}),l.setMode(0,"instant"),i.forEach(e=>e.onclick=()=>{window.requestAnimationFrame(()=>l.setMode(parseInt(e.getAttribute("data-type")))),Array.from(i).find(e=>e.classList.contains("active")).classList.remove("active"),e.classList.add("active")}),window.addEventListener("resize",()=>l.setMode(l.mode,"instant")),r.toggletext=()=>{"Show More"==r.innerText?r.innerText="Show Less":r.innerText="Show More"},r.onclick=()=>{n.classList.toggle("unlimit"),l.setMode(l.mode),r.toggletext()};let c=e=>document.querySelector(e),h=new Parallax,p=c(".presentation"),u=c(".presentation .parallax__elem"),m=c(".logos"),w=c(".logos .parallax__elem"),y=c(".posts"),v=c(".footer");h.init(),h.add(p,u,2),h.add(m,w,2,y,v),h.update();let b=c(".presentation__video"),g=b.querySelector("video"),L=c(".presentation__play"),q=!1,f=()=>{q=!0;let e=b.getBoundingClientRect(),t=e.y,i=e.height,s=window.innerHeight;(t<0||t>s-i)&&(q=!1,document.body.scroll({top:t+document.body.scrollTop-(s-i)/2,behavior:"smooth"}),setTimeout(()=>q=!0,200)),document.body.classList.add("presentation"),b.classList.add("show"),g.play(),g.setAttribute("tabindex","0")},_=()=>{q=!1,g.pause(),document.body.classList.remove("presentation"),b.classList.remove("show"),g.setAttribute("tabindex","-1")};L.addEventListener("click",f),L.addEventListener("keydown",e=>13==e.keyCode&&f()),g.addEventListener("pause",_),document.body.addEventListener("scroll",()=>{if(!q)return;let e=b.getBoundingClientRect(),t=e.y,i=e.height,s=window.innerHeight;(t<-i/2||t>s-i/2)&&_()},{passive:!0});let E=document.querySelector(".posts .swiper-container");new Swiper(E,{loop:!0,autoplay:{delay:5e3},speed:800,breakpoints:{0:{slidesPerView:1,spaceBetween:20},700:{slidesPerView:2,spaceBetween:20},1e3:{slidesPerView:3,spaceBetween:30}},navigation:{nextEl:".posts__ra",prevEl:".posts__la"}});Array.from(document.querySelector(".posts__arrows").children).forEach(e=>e.addEventListener("keydown",t=>"13"==t.keyCode&&e.dispatchEvent(new Event("click"))));let A=document.querySelector(".logos .swiper-container");new Swiper(A,{loop:!0,autoplay:{delay:2e3,disableOnInteraction:!1},speed:800,breakpoints:{0:{slidesPerView:1,spaceBetween:20},500:{slidesPerView:2,spaceBetween:20},900:{slidesPerView:3,spaceBetween:30},1100:{slidesPerView:4,spaceBetween:90}}})});